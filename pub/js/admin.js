const url="http://localhost/projekt/index.php",selectorEl=document.getElementById("admin-selector"),messageAreaEl=document.getElementById("admin-message-area"),formContainers={project:project=document.getElementById("project-form-cont"),occupation:occupation=document.getElementById("occupation-form-cont"),education:education=document.getElementById("education-form-cont")},formToggles={toggleCreate:toggleCreate=document.getElementById("toggle-create"),toggleUpdate:toggleUpdate=document.getElementById("toggle-update"),toggleDelete:toggleDelete=document.getElementById("toggle-delete")},createForms=document.getElementsByClassName("form-create"),updateForms=document.getElementsByClassName("form-update"),deleteForms=document.getElementsByClassName("form-delete"),projectForms={createFormEl:createFormEl=document.getElementById("project-form-create"),updateFormEl:updateFormEl=document.getElementById("project-form-update"),deleteFormEl:deleteFormEl=document.getElementById("project-form-delete"),createForm:createForm={titleEl:titleEl=document.getElementById("project-create-title"),descEl:descEl=document.getElementById("project-create-description"),urlEl:urlEl=document.getElementById("project-create-url")},updateForm:updateForm={titleOldEl:titleOldEl=document.getElementById("project-update-title-old"),titleEl:titleEl=document.getElementById("project-update-title-new"),descEl:descEl=document.getElementById("project-update-description"),urlEl:urlEl=document.getElementById("project-update-url")},deleteForm:deleteForm={titleEl:titleEl=document.getElementById("project-delete-title")}},educationForms={createFormEl:createFormEl=document.getElementById("education-form-create"),updateFormEl:updateFormEl=document.getElementById("education-form-update"),deleteFormEl:deleteFormEl=document.getElementById("education-form-delete"),createForm:createForm={nameEl:nameEl=document.getElementById("education-create-name"),schoolEl:schoolEl=document.getElementById("education-create-school"),typeEl:typeEl=document.getElementById("education-create-type"),startEl:startEl=document.getElementById("education-create-start"),endEl:endEl=document.getElementById("education-create-end")},updateForm:updateForm={nameOldEl:nameOldEl=document.getElementById("education-update-name-old"),nameEl:nameEl=document.getElementById("education-update-name"),schoolEl:schoolEl=document.getElementById("education-update-school"),typeEl:typeEl=document.getElementById("education-update-type"),startEl:startEl=document.getElementById("education-update-start"),endEl:endEl=document.getElementById("education-update-end")},deleteForm:deleteForm={nameEl:nameEl=document.getElementById("education-delete-name")}},occupationForms={createFormEl:createFormEl=document.getElementById("occupation-form-create"),updateFormEl:updateFormEl=document.getElementById("occupation-form-update"),deleteFormEl:deleteFormEl=document.getElementById("occupation-form-delete"),createForm:createForm={companyEl:companyEl=document.getElementById("occupation-create-company"),titleEl:titleEl=document.getElementById("occupation-create-title"),startEl:startEl=document.getElementById("occupation-create-start"),endEl:endEl=document.getElementById("occupation-create-end")},updateForm:updateForm={oldEntryEl:oldEntryEl=document.getElementById("occupation-update-entry"),companyEl:companyEl=document.getElementById("occupation-update-company"),titleEl:titleEl=document.getElementById("occupation-update-title"),startEl:startEl=document.getElementById("occupation-update-start"),endEl:endEl=document.getElementById("occupation-update-end")},deleteForm:deleteForm={entryEl:entryEl=document.getElementById("occupation-delete-entry")}};function loadSelectBoxes(e){projectForms.updateForm.titleOldEl.innerHTML="",projectForms.deleteForm.titleEl.innerHTML="",educationForms.updateForm.nameOldEl.innerHTML="",educationForms.deleteForm.nameEl.innerHTML="",educationForms.createForm.typeEl.innerHTML="",educationForms.updateForm.typeEl.innerHTML="",occupationForms.updateForm.oldEntryEl.innerHTML="",occupationForms.deleteForm.entryEl.innerHTML="",e.projects.forEach(e=>{projectForms.updateForm.titleOldEl.innerHTML+="<option value='"+e.ID+"'>"+e.Title+"</option>",projectForms.deleteForm.titleEl.innerHTML+="<option value='"+e.ID+"'>"+e.Title+"</option>"}),e.educations.forEach(e=>{educationForms.updateForm.nameOldEl.innerHTML+="<option value='"+e.ID+"'>"+e.Name+"</option>",educationForms.deleteForm.nameEl.innerHTML+="<option value='"+e.ID+"'>"+e.Name+"</option>"}),e.educationTypes.forEach(e=>{educationForms.createForm.typeEl.innerHTML+="<option value='"+e.ID+"'>"+e.ID+" - "+e.Type+"</option>",educationForms.updateForm.typeEl.innerHTML+="<option value='"+e.ID+"'>"+e.ID+" - "+e.Type+"</option>"}),e.occupations.forEach(e=>{occupationForms.updateForm.oldEntryEl.innerHTML+="<option value='"+e.ID+"'>"+e.Company+", "+e.Title+"</option>",occupationForms.deleteForm.entryEl.innerHTML+="<option value='"+e.ID+"'>"+e.Company+", "+e.Title+"</option>"})}formToggles.toggleCreate.addEventListener("click",(function(e){e.target.classList.add("active"),formToggles.toggleUpdate.classList.remove("active"),formToggles.toggleDelete.classList.remove("active");for(let e=0;e<createForms.length;e++)createForms[e].classList.add("active");for(let e=0;e<updateForms.length;e++)updateForms[e].classList.remove("active");for(let e=0;e<deleteForms.length;e++)deleteForms[e].classList.remove("active")})),formToggles.toggleUpdate.addEventListener("click",(function(e){e.target.classList.add("active"),formToggles.toggleCreate.classList.remove("active"),formToggles.toggleDelete.classList.remove("active");for(let e=0;e<updateForms.length;e++)updateForms[e].classList.add("active");for(let e=0;e<createForms.length;e++)createForms[e].classList.remove("active");for(let e=0;e<deleteForms.length;e++)deleteForms[e].classList.remove("active")})),formToggles.toggleDelete.addEventListener("click",(function(e){e.target.classList.add("active"),formToggles.toggleUpdate.classList.remove("active"),formToggles.toggleCreate.classList.remove("active");for(let e=0;e<deleteForms.length;e++)deleteForms[e].classList.add("active");for(let e=0;e<updateForms.length;e++)createForms[e].classList.remove("active");for(let e=0;e<createForms.length;e++)updateForms[e].classList.remove("active")})),selectorEl.addEventListener("change",(function(e){switch(selectorEl.options[selectorEl.selectedIndex].value){case"project":formContainers.project.classList.add("active"),formContainers.education.classList.remove("active"),formContainers.occupation.classList.remove("active");break;case"education":formContainers.education.classList.add("active"),formContainers.project.classList.remove("active"),formContainers.occupation.classList.remove("active");break;case"occupation":formContainers.occupation.classList.add("active"),formContainers.education.classList.remove("active"),formContainers.project.classList.remove("active")}})),projectForms.createFormEl.addEventListener("submit",(function(e){e.preventDefault(),fetch(url,{method:"POST",body:JSON.stringify({dataset:"projects",title:projectForms.createForm.titleEl.value,description:projectForms.createForm.descEl.value,url:projectForms.createForm.urlEl.value})}).then((function(e){e.json().then(e=>{loadSelectBoxes(e),messageAreaEl.innerHTML="<p>Project was successfully added.</p>",projectForms.createFormEl.reset()})})).catch((function(e){console.log("Fatal error: ",e)}))})),projectForms.updateFormEl.addEventListener("submit",(function(e){e.preventDefault(),fetch(url,{method:"PUT",body:JSON.stringify({dataset:"projects",id:projectForms.updateForm.titleOldEl.value,title:projectForms.updateForm.titleEl.value,description:projectForms.updateForm.descEl.value,url:projectForms.updateForm.urlEl.value})}).then((function(e){e.json().then(e=>{loadSelectBoxes(e),messageAreaEl.innerHTML="<p>Project was successfully updated.</p>",projectForms.updateFormEl.reset()})})).catch((function(e){console.log("Fatal error: ",e)}))})),projectForms.deleteFormEl.addEventListener("submit",(function(e){e.preventDefault(),fetch(url,{method:"DELETE",body:JSON.stringify({dataset:"projects",id:projectForms.deleteForm.titleEl.value})}).then((function(e){e.json().then(e=>{loadSelectBoxes(e),messageAreaEl.innerHTML="<p>Project was successfully deleted.</p>",projectForms.deleteFormEl.reset()})})).catch((function(e){console.log("Fatal error: ",e)}))})),occupationForms.createFormEl.addEventListener("submit",(function(e){e.preventDefault(),fetch(url,{method:"POST",body:JSON.stringify({dataset:"occupations",company:occupationForms.createForm.companyEl.value,title:occupationForms.createForm.titleEl.value,start:occupationForms.createForm.startEl.value,end:occupationForms.createForm.endEl.value})}).then((function(e){e.json().then(e=>{loadSelectBoxes(e),messageAreaEl.innerHTML="<p>Occupatino was successfully added.</p>",occupationForms.createFormEl.reset()})})).catch((function(e){console.log("Fatal error: ",e)}))})),occupationForms.updateFormEl.addEventListener("submit",(function(e){e.preventDefault(),fetch(url,{method:"PUT",body:JSON.stringify({dataset:"occupations",id:occupationForms.updateForm.oldEntryEl.value,company:occupationForms.updateForm.companyEl.value,title:occupationForms.updateForm.titleEl.value,start:occupationForms.updateForm.startEl.value,end:occupationForms.updateForm.endEl.value})}).then((function(e){e.json().then(e=>{loadSelectBoxes(e),messageAreaEl.innerHTML="<p>Occupation was successfully updated.</p>",occupationForms.updateFormEl.reset()})})).catch((function(e){console.log("Fatal error: ",e)}))})),occupationForms.deleteFormEl.addEventListener("submit",(function(e){e.preventDefault(),fetch(url,{method:"DELETE",body:JSON.stringify({dataset:"occupations",id:occupationForms.deleteForm.entryEl.value})}).then((function(e){e.json().then(e=>{loadSelectBoxes(e),messageAreaEl.innerHTML="<p>Occupation was successfully deleted.</p>",occupationForms.deleteFormEl.reset()})})).catch((function(e){console.log("Fatal error: ",e)}))})),educationForms.createFormEl.addEventListener("submit",(function(e){e.preventDefault(),fetch(url,{method:"POST",body:JSON.stringify({dataset:"educations",name:educationForms.createForm.nameEl.value,school:educationForms.createForm.schoolEl.value,start:educationForms.createForm.startEl.value,end:educationForms.createForm.endEl.value,typeID:educationForms.createForm.typeEl.value})}).then((function(e){e.json().then(e=>{loadSelectBoxes(e),messageAreaEl.innerHTML="<p>Education was successfully added.</p>",educationForms.createFormEl.reset()})})).catch((function(e){console.log("Fatal error: ",e)}))})),educationForms.updateFormEl.addEventListener("submit",(function(e){e.preventDefault(),fetch(url,{method:"PUT",body:JSON.stringify({dataset:"educations",id:educationForms.updateForm.nameOldEl.value,name:educationForms.updateForm.nameEl.value,school:educationForms.updateForm.schoolEl.value,start:educationForms.updateForm.startEl.value,end:educationForms.updateForm.endEl.value,typeID:educationForms.updateForm.typeEl.value})}).then((function(e){e.json().then(e=>{loadSelectBoxes(e),messageAreaEl.innerHTML="<p>Education was successfully updated.</p>",educationForms.updateFormEl.reset()})})).catch((function(e){console.log("Fatal error: ",e)}))})),educationForms.deleteFormEl.addEventListener("submit",(function(e){e.preventDefault(),fetch(url,{method:"DELETE",body:JSON.stringify({dataset:"educations",id:educationForms.deleteForm.nameEl.value})}).then((function(e){e.json().then(e=>{loadSelectBoxes(e),messageAreaEl.innerHTML="<p>Education was successfully deleted.</p>",educationForms.deleteFormEl.reset()})})).catch((function(e){console.log("Fatal error: ",e)}))})),document.addEventListener("DOMContentLoaded",(function(){fetch(url).then((function(e){e.json().then(e=>{loadSelectBoxes(e)})})).catch((function(e){console.log("Fatal error: ",e)}))}));
//# sourceMappingURL=maps/admin.js.map
