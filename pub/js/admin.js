const url="http://localhost/projekt/index.php",selectorEl=document.getElementById("admin-selector"),formContainers={project:project=document.getElementById("project-form-cont"),occupation:occupation=document.getElementById("occupation-form-cont"),education:education=document.getElementById("education-form-cont")},formToggles={toggleCreate:toggleCreate=document.getElementById("toggle-create"),toggleUpdate:toggleUpdate=document.getElementById("toggle-update"),toggleDelete:toggleDelete=document.getElementById("toggle-delete")},createForms=document.getElementsByClassName("form-create"),updateForms=document.getElementsByClassName("form-update"),deleteForms=document.getElementsByClassName("form-delete"),projectForms={createFormEl:createFormEl=document.getElementById("project-form-create"),updateFormEl:updateFormEl=document.getElementById("project-form-update"),deleteFormEl:deleteFormEl=document.getElementById("project-form-delete"),createForm:createForm={titleEl:titleEl=document.getElementById("project-create-title"),descEl:descEl=document.getElementById("project-create-description"),urlEl:urlEl=document.getElementById("project-create-url")},updateForm:updateForm={titleOldEl:titleOldEl=document.getElementById("project-update-title-old"),titleEl:titleEl=document.getElementById("project-update-title-new"),descEl:descEl=document.getElementById("project-update-description"),urlEl:urlEl=document.getElementById("project-update-url")},deleteForm:deleteForm={titleEl:titleEl=document.getElementById("project-delete-title")}};function loadTitles(e){projectForms.updateForm.titleOldEl.innerHTML="",projectForms.deleteForm.titleEl.innerHTML="",e.forEach(e=>{projectForms.updateForm.titleOldEl.innerHTML+="<option value='"+e.ID+"'>"+e.ID+" - "+e.Title+"</option>",projectForms.deleteForm.titleEl.innerHTML+="<option value='"+e.ID+"'>"+e.ID+" - "+e.Title+"</option>"})}formToggles.toggleCreate.addEventListener("click",(function(e){e.target.classList.add("active"),formToggles.toggleUpdate.classList.remove("active"),formToggles.toggleDelete.classList.remove("active");for(let e=0;e<createForms.length;e++)createForms[e].classList.add("active");for(let e=0;e<updateForms.length;e++)updateForms[e].classList.remove("active");for(let e=0;e<deleteForms.length;e++)deleteForms[e].classList.remove("active")})),formToggles.toggleUpdate.addEventListener("click",(function(e){e.target.classList.add("active"),formToggles.toggleCreate.classList.remove("active"),formToggles.toggleDelete.classList.remove("active");for(let e=0;e<updateForms.length;e++)updateForms[e].classList.add("active");for(let e=0;e<createForms.length;e++)createForms[e].classList.remove("active");for(let e=0;e<deleteForms.length;e++)deleteForms[e].classList.remove("active")})),formToggles.toggleDelete.addEventListener("click",(function(e){e.target.classList.add("active"),formToggles.toggleUpdate.classList.remove("active"),formToggles.toggleCreate.classList.remove("active");for(let e=0;e<deleteForms.length;e++)deleteForms[e].classList.add("active");for(let e=0;e<updateForms.length;e++)createForms[e].classList.remove("active");for(let e=0;e<createForms.length;e++)updateForms[e].classList.remove("active")})),selectorEl.addEventListener("change",(function(e){switch(selectorEl.options[selectorEl.selectedIndex].value){case"project":formContainers.project.classList.add("active"),formContainers.education.classList.remove("active"),formContainers.occupation.classList.remove("active");break;case"education":formContainers.education.classList.add("active"),formContainers.project.classList.remove("active"),formContainers.occupation.classList.remove("active");break;case"occupation":formContainers.occupation.classList.add("active"),formContainers.education.classList.remove("active"),formContainers.project.classList.remove("active")}})),projectForms.createFormEl.addEventListener("submit",(function(e){e.preventDefault(),fetch(url,{method:"POST",body:JSON.stringify({title:projectForms.createForm.titleEl.value,description:projectForms.createForm.descEl.value,url:projectForms.createForm.urlEl.value})}).then((function(e){e.json().then(e=>{loadTitles(e),console.log("Project successfully added.")})})).catch((function(e){console.log("Fatal error: ",e)}))})),projectForms.deleteFormEl.addEventListener("submit",(function(e){e.preventDefault(),fetch(url,{method:"DELETE",body:JSON.stringify({id:projectForms.deleteForm.titleEl.value})}).then((function(e){e.json().then(e=>{loadTitles(e),console.log("Project successfully removed.")})})).catch((function(e){console.log("Fatal error: ",e)}))})),projectForms.updateFormEl.addEventListener("submit",(function(e){e.preventDefault(),fetch(url,{method:"PUT",body:JSON.stringify({id:projectForms.updateForm.titleOldEl.value,title:projectForms.updateForm.titleEl.value,description:projectForms.updateForm.descEl.value,url:projectForms.updateForm.urlEl.value})}).then((function(e){e.json().then(e=>{loadTitles(e),console.log("Project successfully added.")})})).catch((function(e){console.log("Fatal error: ",e)}))})),document.addEventListener("DOMContentLoaded",(function(){fetch(url).then((function(e){e.json().then(e=>{loadTitles(e)})})).catch((function(e){console.log("Fatal error: ",e)}))}));
//# sourceMappingURL=maps/admin.js.map
